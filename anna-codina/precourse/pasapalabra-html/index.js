

let letterA = [
    { letter: "a", answer: "abducir", status: 0, question: "CON LA A. Dicho de una supuesta criatura extraterrestre: Apoderarse de alguien" },
    { letter: "a", answer: "armario", status: 0, question: "CON LA A. Mueble cerrado con puertas y, generalmente, con estantes, cajones y perchas para guardar ropa y otros objetos" },
    { letter: "a", answer: "arbol", status: 0, question: "CON LA A. Planta de tronco leñoso, grueso y elevado que se ramifica a cierta altura del suelo formando la copa" },
];

let letterB = [
    { letter: "b", answer: "bingo", status: 0, question: "CON LA B. Juego que ha sacado de quicio a todos los 'Skylabers' en las sesiones de precurso" },
    { letter: "b", answer: "bazo", status: 0, question: "CON LA B. Víscera vascular de muchos vertebrados situada en la región del hipocondrio izquierdo; desempeña diversas funciones relacionadas con la sangre y el sistema inmunológico" },
    { letter: "b", answer: "barbacoa", status: 0, question: "CON LA B. Famosa canción de Georgie Dan" },
];

let letterC = [
    { letter: "c", answer: "churumbel", status: 0, question: "CON LA C. Niño, crío, bebé" },
    { letter: "c", answer: "cascarrabias", status: 0, question: "CON LA C. Persona que se enfada con facilidad o por poco motivo" },
    { letter: "c", answer: "cthulhu", status: 0, question: "CON LA C. Profundo lovecraftiano con nombre inpronunciable" },
];
let letterD = [
    { letter: "d", answer: "diarrea", status: 0, question: "CON LA D. Anormalidad en la función del aparato digestivo caracterizada por frecuentes evacuaciones y su consistencia líquida" },
    { letter: "d", answer: "diafragma", status: 0, question: "CON LA D. Músculo ancho situado entre las cavidades pectoral y abdominal y que tiene un importante papel en la respiración de los mamíferos" },
    { letter: "d", answer: "duna", status: 0, question: "CON LA D. Acumulación de arena en forma redondeada o de media luna que forma y empuja el viento en la playa o en el desierto" },
];
let letterE = [
    { letter: "e", answer: "ectoplasma", status: 0, question: "CON LA E. Gelatinoso y se encuentra debajo de la membrana plasmática. Los cazafantasmas medían su radiación" },
    { letter: "e", answer: "esqueleto", status: 0, question: "CON LA E. Conjunto de huesos articulados que sostiene y da consistencia al cuerpo de los vertebrados" },
    { letter: "e", answer: "estrella", status: 0, question: "CON LA E. Perseguida por los reyes magos" },
];

let letterF = [
    { letter: "f", answer: "facil", status: 0, question: "CON LA F. Que no requiere gran esfuerzo, capacidad o dificultad" },
    { letter: "f", answer: "fotografia", status: 0, question: "CON LA F. Técnica de obtención de imágenes por la acción química de la luz sobre una superficie con unas características determinadas" },
    { letter: "f", answer: "fiesta", status: 0, question: "CON LA F. Reunión de personas en un lugar para divertirse o celebrar un acontecimiento y en la que se suele bailar, comer, etc." },
];

let letterG = [
    { letter: "g", answer: "galaxia", status: 0, question: "CON LA G. Conjunto enorme de estrellas, polvo interestelar, gases y partículas" },
    { letter: "g", answer: "girasol", status: 0, question: "CON LA G. Planta de tallo grueso, alto y derecho, hojas pecioladas, en forma de corazón, flores amarillas y fruto con muchas semillas negruzcas y comestibles (pipas)" },
    { letter: "g", answer: "golf", status: 0, question: "CON LA G. Deporte individual en el que el objetivo es, utilizando diversos palos o bastones, introducir una pelota pequeña en un hollo en un campo de cesped" },
];

let letterH = [
    { letter: "h", answer: "harakiri", status: 0, question: "CON LA H. Suicidio ritual japonés por desentrañamiento" },
    { letter: "h", answer: "hortera", status: 0, question: "CON LA H. Que aunque pretende ser elegante o moderno resulta vulgar, ordinario y de mal gusto" },
    { letter: "h", answer: "hormona", status: 0, question: "CON LA H. Sustancia química producida por un órgano, o por parte de él, cuya función es la de regular la actividad de un tejido determinado" },
];

let letterI = [
    { letter: "i", answer: "iglesia", status: 0, question: "CON LA I. Templo cristiano" },
    { letter: "i", answer: "itsmo", status: 0, question: "CON LA I. Franja alargada y estrecha de terreno que une dos continentes, dos partes diferenciadas de un continente, o una península y un continente" },
    { letter: "i", answer: "imperativo", status: 0, question: "CON LA I. Modo verbal que expresa orden, ruego o mandato" },
];

let letterJ = [
    { letter: "j", answer: "jabali", status: 0, question: "CON LA J. letiedad salvaje del cerdo que sale en la película 'El Rey León', de nombre Pumba" },
    { letter: "j", answer: "japon", status: 0, question: "CON LA J. País asiatico consituido por una serie de islas conocido como el país del sol naciente" },
    { letter: "j", answer: "joroba", status: 0, question: "CON LA J. La tiene Quasimodo el campanero de Notre Dame" },
];

let letterK = [
    { letter: "k", answer: "kamikaze", status: 0, question: "CON LA K. Persona que se juega la vida realizando una acción temeraria" },
    { letter: "k", answer: "kiwi", status: 0, question: "CON LA K. Adorable pajaro que no puede volar" },
    { letter: "k", answer: "karma", status: 0, question: "CON LA K. En la religión budista y en el hinduismo, creencia según la cual toda acción tiene una fuerza dinámica que se expresa e influye en las sucesivas existencias del individuo" },
];

let letterL = [
    { letter: "l", answer: "licantropo", status: 0, question: "CON LA L. Hombre lobo" },
    { letter: "l", answer: "lustro", status: 0, question: "CON LA L. Período de cinco años" },
    { letter: "l", answer: "locura", status: 0, question: "CON LA L. Acción imprudente, insensata o poco razonable que realiza una persona de forma irreflexiva o temeraria" },
];

let letterM = [
    { letter: "m", answer: "misantropo", status: 0, question: "CON LA M. Persona que huye del trato con otras personas o siente gran aversión hacia ellas" },
    { letter: "m", answer: "minotauro", status: 0, question: "CON LA M. Mitad hombre mitad toro atrapado en un laberinto" },
    { letter: "m", answer: "miocardio", status: 0, question: "CON LA M. Parte muscular del corazón." },
];

let letterN = [
    { letter: "n", answer: "necedad", status: 0, question: "CON LA N. Demostración de poca inteligencia" },
    { letter: "n", answer: "nata", status: 0, question: "CON LA N. Derivado de la leche con el que se hacen postres" },
    { letter: "n", answer: "ninfa", status: 0, question: "CON LA N. Divinidad menor de la mitología grecolatina que habitaba en las fuentes, los bosques, las montañas o los ríos" },
];

let letterNN = [
    { letter: "nn", answer: "señal", status: 0, question: "CONTIENE LA Ñ. Indicio que permite deducir algo de lo que no se tiene un conocimiento directo." },
    { letter: "nn", answer: "ñu", status: 0, question: "CON LA Ñ. Antílope que habita en grandes grupos en la sabana africana" },
    { letter: "nn", answer: "ñoño", status: 0, question: "CON LA Ñ.  Que es apocado, melindroso y mojigato" },
];

let letterO = [
    { letter: "o", answer: "orco", status: 0, question: "CON LA O. Humanoide fantástico de apariencia terrible y bestial, piel de color verde creada por el escritor Tolkien" },
    { letter: "o", answer: "onomatopeya", status: 0, question: "CON LA O. Palabra que tiene sonidos que se asemejan a lo que significa" },
    { letter: "o", answer: "oca", status: 0, question: "CON LA O. Ave o juego de mesa donde tiras porque te toca" },
];

let letterP = [
    { letter: "p", answer: "protoss", status: 0, question: "CON LA P. Raza ancestral tecnológicamente avanzada que se caracteriza por sus grandes poderes psíonicos del videojuego StarCraft" },
    { letter: "p", answer: "postre", status: 0, question: "CON LA P. Alimento, generalmente dulce, que se sirve al finalizar una comida" },
    { letter: "p", answer: "pirata", status: 0, question: "CON LA P.Persona que navega sin licencia y se dedica a asaltar los barcos en alta mar o a robar en las costas" },
];

let letterQ = [
    { letter: "q", answer: "queso", status: 0, question: "CON LA Q. Producto obtenido por la maduración de la cuajada de la leche" },
    { letter: "q", answer: "quejica", status: 0, question: "CON LA Q. Que se queja o protesta con frecuencia, especialmente si lo hace por costumbre o sin una causa importante." },
    { letter: "q", answer: "quesadilla", status: 0, question: "CON LA Q. Pan de maíz, relleno de queso y azúcar, que se fríe en manteca" },
];

let letterR = [
    { letter: "r", answer: "raton", status: 0, question: "CON LA R. Roedor" },
    { letter: "r", answer: "rio", status: 0, question: "CON LA R. Corriente natural de agua que fluye permanentemente y va a desembocar en otra, en un lago o en el mar" },
    { letter: "r", answer: "router", status: 0, question: "CON LA R. Aparato que proporciona internet y que si no funciona bien nos desespera" },
];

let letterS = [
    { letter: "s", answer: "stackoverflow", status: 0, question: "CON LA S. Comunidad salvadora de todo desarrollador informático" },
    { letter: "s", answer: "skywalker", status: 0, question: "CON LA S. Apellido de Luke" },
    { letter: "s", answer: "stan", status: 0, question: "CON LA S. Nombre de pila del señor Lee, uno de los creadores más famosos de Marvel" },
];

let letterT = [
    { letter: "t", answer: "terminator", status: 0, question: "CON LA T. Película del director James Cameron que consolidó a Arnold Schwarzenegger como actor en 1984" },
    { letter: "t", answer: "tractor", status: 0, question: "CON LA T. Todo el mundo canta que tiene uno de color amarillo" },
    { letter: "t", answer: "tortuga", status: 0, question: "CON LA T. Las hay ninja y viven en el alcantarillado" },
];

let letterU = [
    { letter: "u", answer: "unamuno", status: 0, question: "CON LA U. Escritor y filósofo español de la generación del 98 autor del libro 'Niebla' en 1914" },
    { letter: "u", answer: "urano", status: 0, question: "CON LA U. Septimo planeta del sistema solar" },
    { letter: "u", answer: "utopia", status: 0, question: "CON LA U. Plan o sistema ideal de gobierno en el que se concibe una sociedad perfecta y justa, donde todo discurre sin conflictos y en armonía" },
];

let letterV = [
    { letter: "v", answer: "vikingos", status: 0, question: "CON LA V. Nombre dado a los miembros de los pueblos nórdicos originarios de Escandinavia, famosos por sus incursiones y pillajes en Europa" },
    { letter: "v", answer: "letiable", status: 0, question: "CON LA V. Aquello que no contiene nunca lo que necesitas mientras programas" },
    { letter: "v", answer: "valle", status: 0, question: "CON LA V. Terreno llano de nivel más bajo que el que lo rodea" },
];

let letterW = [
    { letter: "w", answer: "sandwich", status: 0, question: "CONTIENE LA W. Emparedado hecho con dos rebanadas de pan entre las cuales se coloca jamón y queso" },
    { letter: "w", answer: "whisky", status: 0, question: "CON LA W. Bebida alcohólica de alta graduación que se obtiene por destilación de cebada y otros cereales." },
    { letter: "w", answer: "Wifi", status: 0, question: "CON LA W. Modalidad de internet sin cable" },
];

let letterX = [
    { letter: "x", answer: "botox", status: 0, question: "CONTIENE LA X. Toxina bacteriana utilizada en cirujía estética" },
    { letter: "x", answer: "xilofono", status: 0, question: "CON LA X. Instrumento musical de percusión formado por una serie de láminas de madera dispuestas horizontalmente y ordenadas según su tamaño que se toca con dos o cuatro macillas." },
    { letter: "x", answer: "xenofobia", status: 0, question: "CON LA X. Rechazo a los extranjeros" },
];

let letterY = [
    { letter: "y", answer: "peyote", status: 0, question: "CONTIENE LA Y. Pequeño cáctus conocido por sus alcaloides psicoactivos utilizado de forma ritual y medicinal  por indígenas americanos" },
    { letter: "y", answer: "yogurt", status: 0, question: "CON LA Y. Derivado lácteo obtenido mediante la fermentación de la leche​ por medio de bacterias de los géneros Lactobacillus y Streptococcus" },
    { letter: "y", answer: "yoga", status: 0, question: "CON LA Y. Conjunto de técnicas de concentración derivadas de esta doctrina filosófica que se practican para conseguir un mayor control físico y mental." },
];
let letterZ = [
    { letter: "z", answer: "zen", status: 0, question: "CON LA Z. Escuela de budismo que busca la experiencia de la sabiduría más allá del discurso racional" },
    { letter: "z", answer: "zorro", status: 0, question: "CON LA Z. Candio o heroe enmascarado" },
    { letter: "z", answer: "zumo", status: 0, question: "CON LA Z. Líquido contenido en el tejido de las frutas que puede extraerse por presión, cocción, etc., y beberse" },
];
let questions = [letterA, letterB, letterC, letterD, letterE, letterF, letterG, letterH, letterI, letterJ, letterK, letterL, letterM, letterN, letterNN, letterO, letterP, letterQ, letterR, letterS, letterT, letterU, letterV, letterW, letterX, letterY, letterZ];


var ranking = [];
// function for generate players.
var player = {
    creator: function (name) {
        // this method is for players info as an Object variable.
        var selectedQuestions = this.actualQuestionsGenerator();
        return {
            name: name,
            selectedQuestions: selectedQuestions,
            correctAnswers: 0,
            incorrectAnswers: 0,
            lastQuestion: selectedQuestions[0],
            firstTurn: true,
            actualTime: 200,
            timer: null,
            finish: false,
        }
    },
    // this method creates the questions panel for the actual player.
    actualQuestionsGenerator: function () {
        var newQuestionList = [];
        var questionListTotalNumber = 0;
        for (var i in questions) {
            do {
                var questionNumber = randomNumberGenerator(3);
                var actualQuestion = questions[i][questionNumber];
                if (actualQuestion.status === 0) {
                    actualQuestion.status = 1;
                    actualQuestion = Object.assign({}, actualQuestion);
                    newQuestionList.push(actualQuestion);
                }
            } while (questionListTotalNumber === newQuestionList.length);
            questionListTotalNumber++;
        }
        return newQuestionList;
    },
}

// this function manages the timer of the each player. 
function timer(actualPlayer) {
    if (actualPlayer.actualTime >= 0) {
        document.getElementById("timer").innerHTML = actualPlayer.actualTime;
        actualPlayer.actualTime--;
        actualPlayer.timer = setTimeout(timer, 1000, actualPlayer);
    } else {
        actualPlayer.finish = true;
        pasapalabraGame.checkGame();
        pasapalabraGame.changeTurn();
    }
}

function randomNumberGenerator(numberMax) {
    var actualRandomNumber = Math.random() * numberMax;
    actualRandomNumber = Math.floor(actualRandomNumber);
    return actualRandomNumber;
}

// this object has the properties and methods of all game. 
var pasapalabraGame = {
    playerOne: {},
    playerTwo: {},
    actualPlayer: null,
    playAlone: false,
    // this method is for manage the start of the game. 
    startGamePlayAlone: function () {
        this.playAlone = true;
        this.startGame();

    },
    startGame: function () {
        this.clearQuestionStatus();
        var playerOneName = document.getElementById("player-one-name").value;
        this.playerOne = player.creator(playerOneName);
        if (!this.playAlone) {
            var playerTwoName = document.getElementById("player-two-name").value;
            this.playerTwo = player.creator(playerTwoName);
        }
        document.getElementById("actual-player-area").style.visibility = "visible";
        document.getElementById("questions-area").style.visibility = "visible";
        document.getElementById("letters").style.visibility = "visible";
        document.getElementById("enter-players-info").style.visibility = "hidden";
        document.getElementById("ranking-area").style.visibility = "hidden";
        document.getElementById("your-score").style.visibility = "hidden";
        this.actualPlayer = this.playerOne;
        this.turn();
    },
    // all the turns are managed by this method.
    turn: function () {
        // first we check if the game are finished or not
        this.checkPanel();
        if (!this.actualPlayer.finish) {
            this.drawPanel();
            document.getElementById("actual-player").innerHTML = this.actualPlayer.name;
            var actualQuestion = null;
            document.getElementById("actual-question").style.visibility = "visible";
            document.getElementById("answer-area").style.visibility = "visible";
            document.getElementById("change-player").style.visibility = "hidden";
            document.getElementById("wrong-answer-area").style.visibility = "hidden";
            // this check is for reestart the timer in the case of the last answer are wrong or the player pass the turn.
            if (!this.actualPlayer.firstTurn && (this.actualPlayer.lastQuestion.status === -1 || (this.actualPlayer.lastQuestion.status === 1 && !this.playAlone))) {
                timer(this.actualPlayer);
            }
            // if is the first turn of some of the players we start there the turn
            if (this.actualPlayer.firstTurn) {
                timer(this.actualPlayer);
                this.actualPlayer.firstTurn = false;
                actualQuestion = this.actualPlayer.lastQuestion;
            } else {
                actualQuestion = this.nextLetter();
            }
            document.getElementById("actual-question").innerHTML = actualQuestion.question;
            document.getElementById("letter-" + actualQuestion.letter).classList.remove("unanswered-letter");
            document.getElementById("letter-" + actualQuestion.letter).classList.add("actual-letter");
        } else {
            this.checkGame();
            this.changeTurn();
        }
    },
    // whith this method whe change the question for the next one. 
    nextLetter: function () {
        var actualIndex = this.actualPlayer.selectedQuestions.indexOf(this.actualPlayer.lastQuestion);
        var nextQuestion = null;
        do {
            actualIndex++;
            //this check point is when the player finish the array of questions and then reestart. 
            if (actualIndex === this.actualPlayer.selectedQuestions.length) {
                actualIndex = 0;
            }
            if (this.actualPlayer.selectedQuestions[actualIndex].status === 1) {
                nextQuestion = this.actualPlayer.selectedQuestions[actualIndex];
            }
        } while (nextQuestion == null);
        this.actualPlayer.lastQuestion = nextQuestion;
        return nextQuestion;
    },
    // this method is called by the user using the botton submit-answer in html and check the answer.
    submitAnswer: function () {
        var userAnswer = document.getElementById("actual-answer").value;
        userAnswer = userAnswer.toLowerCase();
        var correctAnswer = this.actualPlayer.lastQuestion.answer;
        if (correctAnswer === userAnswer) {
            this.actualPlayer.correctAnswers++
            this.actualPlayer.lastQuestion.status = 0;
            this.turn();
        } else {
            clearTimeout(this.actualPlayer.timer);
            this.actualPlayer.incorrectAnswers++
            this.actualPlayer.lastQuestion.status = -1;
            this.changeTurn();
        }
        this.checkPanel();
        this.checkGame();
    },
    // all the turns this method change the panel in html. 
    drawPanel: function () {
        for (var i in this.actualPlayer.selectedQuestions) {
            document.getElementById("letter-" + this.actualPlayer.selectedQuestions[i].letter).classList.remove("correct-letter");
            document.getElementById("letter-" + this.actualPlayer.selectedQuestions[i].letter).classList.remove("incorrect-letter");
            document.getElementById("letter-" + this.actualPlayer.selectedQuestions[i].letter).classList.remove("actual-letter");
            document.getElementById("letter-" + this.actualPlayer.selectedQuestions[i].letter).classList.remove("unanswered-letter");
            if (this.actualPlayer.selectedQuestions[i].status === 0) {
                document.getElementById("letter-" + this.actualPlayer.selectedQuestions[i].letter).classList.add("correct-letter");
            } else if (this.actualPlayer.selectedQuestions[i].status === 1) {
                document.getElementById("letter-" + this.actualPlayer.selectedQuestions[i].letter).classList.add("unanswered-letter");
            } else if (this.actualPlayer.selectedQuestions[i].status === -1) {
                document.getElementById("letter-" + this.actualPlayer.selectedQuestions[i].letter).classList.add("incorrect-letter");
            }

        }
        document.getElementById("actual-answer").value = "";
    },
    // this method check the status of the question array of the players. 
    checkPanel: function () {
        var totalAnswers = this.actualPlayer.correctAnswers + this.actualPlayer.incorrectAnswers
        if (totalAnswers === this.actualPlayer.selectedQuestions.length) {
            this.actualPlayer.finish = true;
            this.checkGame();
        }
    },
    // this method checks the status game of the players. If both of them are true calls endGame method. 
    checkGame: function () {
        if (!this.playAlone) {
            if (this.playerOne.finish && this.playerTwo.finish) {
                this.endGame();
            }
        } else {
            if (this.playerOne.finish) {
                this.endGame();
            }
        }
    },
    skipWord: function () {
        if (this.playAlone) {
            this.turn();
        } else {
            clearTimeout(this.actualPlayer.timer);
            this.changeTurn();
        }
    },
    // this methos manages the change of the players if they submit a wrong answer or pass the turn. 
    changeTurn: function () {
        this.checkPanel();
        document.getElementById("actual-question").style.visibility = "hidden";
        document.getElementById("answer-area").style.visibility = "hidden";
        document.getElementById("change-player").style.visibility = "visible";
        if (this.actualPlayer.lastQuestion.status === -1) {
            document.getElementById("wrong-answer-area").style.visibility = "visible";
            if (this.actualPlayer.lastQuestion.letter === "nn") {
                document.getElementById("actual-letter").innerHTML = "Ñ";
            } else {
                document.getElementById("actual-letter").innerHTML = this.actualPlayer.lastQuestion.letter.toUpperCase();
            }
            document.getElementById("correct-answer").innerHTML = this.actualPlayer.lastQuestion.answer;
        }
        if (!this.playAlone && this.actualPlayer === this.playerOne && !this.playerTwo.finish) {
            this.actualPlayer = this.playerTwo;
        } else if (!this.playAlone && this.actualPlayer === this.playerTwo && !this.playerOne.finish) {
            this.actualPlayer = this.playerOne;
        }
        document.getElementById("new-turn-player").innerHTML = this.actualPlayer.name;
    },
    //this method finish the game and 
    endGame: function () {
        clearTimeout(this.actualPlayer.timer);
        //we storage the results in localStorage. So we ned to convert in string usint JSON.stringfy method
        var playerOneResults = { name: this.playerOne.name, score: this.playerOne.correctAnswers, errors: this.playerOne.incorrectAnswers, restingTime: this.playerOne.actualTime }
        document.getElementById("player-one-score").innerHTML = "<strong>" + playerOneResults.name + "</strong> Aciertos: " + playerOneResults.score + " Fallos: " + playerOneResults.errors + " Tiempo sobrante: " + ++playerOneResults.restingTime;
        playerOneResults = JSON.stringify(playerOneResults);
        if (!this.playAlone) {
            var playerTwoResults = { name: this.playerTwo.name, score: this.playerTwo.correctAnswers, errors: this.playerTwo.incorrectAnswers, restingTime: this.playerTwo.actualTime }
            document.getElementById("player-two-score").innerHTML = "<strong>" + playerTwoResults.name + "</strong> Aciertos: " + playerTwoResults.score + " Fallos: " + playerTwoResults.errors + " Tiempo sobrante: " + ++playerTwoResults.restingTime;
            playerTwoResults = JSON.stringify(playerTwoResults);
        }
        // we get the last index using a check point.
        var lastIndexRanking = window.localStorage.getItem("lastIndex");
        if (!lastIndexRanking) {
            lastIndexRanking = 0;
        } else {
            lastIndexRanking = parseInt(lastIndexRanking);
        }
        lastIndexRanking++;
        window.localStorage.setItem(lastIndexRanking, playerOneResults);
        if (!this.playAlone) {
            lastIndexRanking++;
            window.localStorage.setItem(lastIndexRanking, playerTwoResults);
        }
        window.localStorage.setItem("lastIndex", lastIndexRanking);
        this.showRanking();
    },
    showRanking: function () {
        document.getElementById("actual-ranking").innerHTML = "";
        document.getElementById("timer").innerHTML = "--";
        document.getElementById("ranking-area").style.visibility = "visible";
        document.getElementById("enter-players-info").style.visibility = "visible";
        document.getElementById("your-score").style.visibility = "visible";
        document.getElementById("letters").style.visibility = "hidden";
        document.getElementById("actual-player-area").style.visibility = "hidden";
        document.getElementById("questions-area").style.visibility = "hidden";
        var lastIndexRanking = window.localStorage.getItem("lastIndex");
        var actualRanking = [];
        // we get the storaged items and reconvert to objects.
        for (var i = 1; i <= lastIndexRanking; i++) {
            var actualIndex = i;
            actualIndex = String(actualIndex);
            var actualPosition = window.localStorage.getItem(actualIndex);
            actualPosition = JSON.parse(actualPosition);
            actualRanking.push(actualPosition);
        }
        actualRanking = actualRanking.sort(descendingOrder);
        for (var j in actualRanking) {
            var actualPositionFormated = "<strong>" + actualRanking[j].name + "</strong> Aciertos: " + actualRanking[j].score + " Fallos: " + actualRanking[j].errors + " Tiempo sobrante: " + ++actualRanking[j].restingTime;
            var newNode = document.createElement("li");
            newNode.innerHTML = actualPositionFormated;
            document.getElementById("actual-ranking").appendChild(newNode);
        }
    },
    clearQuestionStatus: function () {
        for (var i in questions) {
            for (var j in questions[i]) {
                questions[i][j].status = 0;
            }
        }
    },
    enterKeyEventSubmitAnswer: function (event) {
        if (event.keyCode === 13) {
            event.preventDefault();
            this.submitAnswer();
        }
    },
    enterKeyEventStartGame: function (event) {
        if (event.keyCode === 13) {
            event.preventDefault();
            this.startGame();
        }
    },
}

function descendingOrder(player1, player2,) {
    if (player1.score > player2.score) {
        return -1;
    } else if (player1.score < player2.score) {
        return 1;
    } else {
        return 0;
    }
}